---
import me from '@assets/author/igorskyflyer.png'
import { SiteName } from '@data/Site'
import { Content as IgorSkyFlyer } from '@remote/igorskyflyer.md'
import NavBtn from '../components/NavBtn.astro'
import PageFooter from '../components/PageFooter.astro'
import PageHead from '../components/PageHead.astro'
import PageHeader from '../components/PageHeader.astro'

function getLastFetch() {
  return new Date().toLocaleString('en-uk', {
    day: '2-digit',
    month: 'short',
    year: 'numeric',
    hour: '2-digit',
    minute: '2-digit',
    hourCycle: 'h23',
    timeZone: 'Europe/Belgrade',
    timeZoneName: 'longOffset'
  })
}

function getLocalIsoTimestamp() {
  const now = new Date()
  const offsetMinutes = now.getTimezoneOffset()
  const sign = offsetMinutes <= 0 ? '+' : '-'
  const abs = Math.abs(offsetMinutes)
  const hh = String(Math.floor(abs / 60)).padStart(2, '0')
  const mm = String(abs % 60).padStart(2, '0')

  const localTime = new Date(now.getTime() - offsetMinutes * 60 * 1000)
    .toISOString()
    .slice(0, 19) // "YYYY-MM-DDTHH:mm:ss"

  return `${localTime}${sign}${hh}:${mm}`
}

const meta = {
  '@context': 'https://schema.org',
  '@type': 'ProfilePage',
  dateCreated: '2024-07-08T02:00:22+02:00',
  dateModified: getLocalIsoTimestamp(),
  mainEntity: {
    '@type': 'Person',
    name: 'Igor DimitrijeviÄ‡',
    alternateName: [
      'skyflyer',
      'igorskyflyer',
      {
        '@value': 'Igor DimitrijeviÄ‡',
        '@language': 'sr-Latn'
      },
      {
        '@value': 'Ð˜Ð³Ð¾Ñ€ Ð”Ð¸Ð¼Ð¸Ñ‚Ñ€Ð¸Ñ˜ÐµÐ²Ð¸Ñ›',
        '@language': 'sr-Cyrl'
      }
    ],
    jobTitle: 'Software engineer',
    height: '6 feet',
    gender: 'male',
    honorificPrefix: 'Mr.',
    address: {
      '@type': 'PostalAddress',
      addressCountry: 'Serbia'
    },
    birthDate: '1993-08-27T00:00:00+02:00',
    birthPlace: 'Kraljevo, Serbia',
    nationality: 'Serbian',
    url: 'https://igorskyflyer.me/',
    description: 'Software engineer',
    image: 'https://avatars.githubusercontent.com/u/20957750',
    sameAs: [
      'https://github.com/igorskyflyer',
      'https://instagram.com/igorskyflyer',
      'https://developers.google.com/profile/u/igor-dev',
      'https://app.pluralsight.com/profile/igor-dvlpr',
      'https://stackoverflow.com/users/3864203/skyflyer',
      'https://www.tiktok.com/@igorskyflyer',
      'https://youtube.com/@igorskyflyer',
      'https://dribbble.com/igordvlpr',
      'https://www.threads.net/@igorskyflyer',
      'https://www.linkedin.com/in/igor-dvlpr',
      'https://twitter.com/igorskyflyer',
      'https://orcid.org/0009-0002-6906-1621'
    ]
  }
}
---

<style is:global>
  body {
    color: #d4d4ff;
  }

  figcaption {
    font-size: 0.92rem;
    font-style: italic;
  }

  #author-image-wrap {
    max-width: 350px;
    max-height: 350px;
    overflow: hidden;
    margin: auto auto 2rem auto;
    text-align: center;
  }

  @keyframes blobMorph {
    0%,
    100% {
      border-radius: 40% 60% 70% 30% / 40% 40% 60% 50%;
    }
    34% {
      border-radius: 70% 30% 50% 50% / 30% 30% 70% 70%;
    }
    67% {
      border-radius: 100% 60% 60% 100% / 100% 100% 60% 60%;
    }
  }

  #author-image-wrap img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    margin-bottom: 2rem;
    border-radius: 80% 40% 20% 30% / 40% 50% 40% 50%;
    border: 6px solid #0099ff66;
    box-shadow:
      0 0 15px #0099ff88,
      0 0 30px #0099ff66 inset;
    animation: blobMorph 5s linear infinite;
  }

  [data-hide] {
    display: none;
  }

  #readme-renderer ol:not([data-no-restyle]),
  #readme-renderer ul:not([data-no-restyle]) {
    margin: auto;
    padding: 0;
    list-style-position: inside;
    text-align: center;
  }

  #readme-renderer ul:not([data-no-restyle]) {
    list-style-type: none;
  }

  #readme-renderer img {
    display: inline-block;
    margin: 0 2px;
  }

  #readme-renderer code {
    background: #0d1117;
    box-shadow: 0 0 18px inset #000;
    padding: 0.3rem;
    border-radius: 4px;
  }

  #igorskyflyer-copy-notice {
    margin: 1rem 0 1rem 0;
    font-size: 1.2rem;
    text-align: center;
  }

  #igorskyflyer-copy-notice p {
    opacity: 0.8;
    font-size: 0.8rem;
    font-style: italic;
  }

  #readme-renderer h3 + p:not([data-no-restyle]) {
    text-align: center;
  }

  #igorskyflyer-edit {
    margin: auto;
    text-align: center;
  }

  #igorskyflyer-edit a::before {
    content: '';
    display: inline-block;
    width: 16px;
    height: 16px;
    margin-right: 8px;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' viewBox='0 0 16 16'%3E%3Cpath fill-rule='evenodd' d='M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z'/%3E%3Cpath fill-rule='evenodd' d='M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z'/%3E%3C/svg%3E");
  }

  @media screen and (min-width: 600px) {
    #author-image-wrap {
      margin-top: 4rem;
    }
  }
</style>

<html lang="en">
  <PageHead
    title={`IgorSkyFlyer | ${SiteName}`}
    description="Information about Igor DimitrijeviÄ‡ (IgorSkyFlyer), a Serbian software engineer specializing in full-stack Web, desktop and mobile development and the author of this website."
    keywords="igorskyflyer,igor dimitrijeviÄ‡,developer,development,astro,golang,web,software,software engineer,software engineering,hire,html,javascript,css"
    featuredImage="">
    <script
      type="application/ld+json"
      set:html={JSON.stringify(meta, null, 2)}
      is:inline
    />
  </PageHead>
  <body>
    <PageHeader />
    <main>
      <div id="author-image-wrap">
        <figure>
          <img
            src={me.src}
            alt="A photo of Igor DimitrijeviÄ‡ (igorskyflyer)"
          />
          <figcaption>Igor DimitrijeviÄ‡ - IgorSkyFlyer</figcaption>
        </figure>
      </div>
      <br />
      <div id="readme-renderer">
        <IgorSkyFlyer />
      </div>
      <br />
      <br />
      <div id="igorskyflyer-copy-notice">
        This page is a ðŸ”® <strong>magical</strong> ðŸŒŸ copy of my <a
          href="https://github.com/igorskyflyer"
          rel="external"
          target="_blank"
          >GitHub's README</a
        >.
        <p>ðŸš€&nbsp; Last fetched: {getLastFetch()} &nbsp;ðŸš€</p>
      </div>
      <br />
      <div id="igorskyflyer-edit">
        <a
          href="https://github.com/igorskyflyer/igorskyflyer/edit/main/README.md"
          target="_blank"
          rel="noopener noreferrer"
          >Edit on GitHub</a
        >
      </div>
    </main>
    <NavBtn />
    <PageFooter />
  </body>
</html>
